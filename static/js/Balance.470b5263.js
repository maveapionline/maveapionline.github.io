(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Balance"],{"23fa":function(e,t,n){"use strict";n.r(t);n("b0c0");var c=n("7a23"),o=n("d3f3"),i=n.n(o),r=function(e){return Object(c["pushScopeId"])("data-v-2aafe8fe"),e=e(),Object(c["popScopeId"])(),e},a={class:"home-content"},l=r((function(){return Object(c["createElementVNode"])("div",{class:"background-top"},null,-1)})),s={class:"balance-card"},u={class:"balance-card_top"},d={class:"network-btn"},b={class:"balance-card_bottom"},m={class:"top"},h={class:"details"},p=r((function(){return Object(c["createElementVNode"])("i",{class:"iconfont icon-balance-details"},null,-1)})),f={class:"bottom"},O={class:"balance-num"},j={class:"balance-list"},v={class:"flex-between"},k={class:"flex-end"},g={key:0,class:"mt_20 ml_10",style:{color:"#999","font-size":"12px",display:"flex"}},w=["onClick","onTouchstartPassive"],V={class:"left"},N={key:0,class:"risk-status"},y={class:"right"},C=r((function(){return Object(c["createElementVNode"])("img",{src:i.a,style:{width:"1rem"},alt:"",srcset:""},null,-1)})),T=r((function(){return Object(c["createElementVNode"])("img",{src:i.a,style:{width:"1rem"},alt:"",srcset:""},null,-1)})),E={key:2,style:{width:"100%",height:"calc(50vw - 30px)",display:"flex","justify-content":"center","align-items":"center"}},$=r((function(){return Object(c["createElementVNode"])("img",{src:i.a,style:{width:"1rem"},alt:"",srcset:""},null,-1)})),B=[$],L={class:"nft-name"},S={class:"van-ellipsis"},_={class:"van-ellipsis"},x=["src"],D={class:"relative"},U={class:"popup-title"},P={class:"left flex-start"},I={key:0,class:"risk-status"};function A(e,t,o,i,r,$){var A=Object(c["resolveComponent"])("van-tab"),F=Object(c["resolveComponent"])("van-tabs"),z=Object(c["resolveComponent"])("van-icon"),H=Object(c["resolveComponent"])("van-switch"),J=Object(c["resolveComponent"])("van-image"),M=Object(c["resolveComponent"])("van-empty"),R=Object(c["resolveComponent"])("van-grid-item"),W=Object(c["resolveComponent"])("van-grid"),Y=Object(c["resolveComponent"])("van-image-preview"),q=Object(c["resolveComponent"])("van-checkbox"),G=Object(c["resolveComponent"])("van-cell"),K=Object(c["resolveComponent"])("van-cell-group"),Q=Object(c["resolveComponent"])("van-checkbox-group"),X=Object(c["resolveComponent"])("van-popup");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createElementVNode"])("section",a,[l,Object(c["createElementVNode"])("div",s,[Object(c["createElementVNode"])("div",u,[Object(c["createElementVNode"])("span",d,Object(c["toDisplayString"])(""===e.$store.state.currentAccount?e.$t("unconnectedWallet"):e.$store.getters.netName),1),Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])($.currentAccountSplit),1)]),Object(c["createElementVNode"])("div",b,[Object(c["createElementVNode"])("div",m,[Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(e.$t("totalBalance")),1),Object(c["createElementVNode"])("div",h,[p,Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(e.$t("balanceDetails")),1)])]),Object(c["createElementVNode"])("div",f,[Object(c["createElementVNode"])("span",O,"$ "+Object(c["toDisplayString"])(e.$f.formatNumUnit($.userTotalBalance)),1)])])]),Object(c["createElementVNode"])("div",j,[Object(c["createElementVNode"])("div",v,[Object(c["createVNode"])(F,{active:r.active,"onUpdate:active":t[0]||(t[0]=function(e){return r.active=e}),shrink:"",color:"#3F80F7",style:{"--van-tabs-nav-background-color":"#fff"}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(A,{title:e.$t("token1"),name:"token"},null,8,["title"]),Object(c["createVNode"])(A,{title:e.$t("nft"),name:"nft"},null,8,["title"])]})),_:1},8,["active"]),Object(c["withDirectives"])(Object(c["createElementVNode"])("div",k,[$.userTokenListInit.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])(z,{key:0,name:"add",size:"24",color:"#ccc",onClick:$.showPop},null,8,["onClick"])):Object(c["createCommentVNode"])("",!0)],512),[[c["vShow"],"token"===r.active]])]),Object(c["withDirectives"])(Object(c["createElementVNode"])("ul",null,[$.allUserTokenList.length>0?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",g,[Object(c["createVNode"])(H,{modelValue:r.isHide,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.isHide=e}),"active-color":"#558BED","inactive-color":"#dcdee0",size:"12px"},null,8,["modelValue"]),Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(r.isHide?e.$t("hideSmallAssets"):e.$t("showSmallAssets")),1)])):Object(c["createCommentVNode"])("",!0),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])($.userTokenList,(function(o,i){return Object(c["openBlock"])(),Object(c["createElementBlock"])("li",{class:"balance-item no-select",key:i,onClick:Object(c["withModifiers"])((function(e){return $.goTokenDetails(o)}),["stop"]),onContextmenu:t[2]||(t[2]=Object(c["withModifiers"])((function(){}),["prevent"])),onTouchstartPassive:function(e){return $.longTap(o)},onTouchmovePassive:t[3]||(t[3]=function(){return $.clearTouch&&$.clearTouch.apply($,arguments)}),onTouchendPassive:t[4]||(t[4]=function(){return $.clearTouch&&$.clearTouch.apply($,arguments)})},[Object(c["createElementVNode"])("div",V,[Object(c["createVNode"])(J,{round:"",width:"0.6rem",height:"0.6rem","icon-size":"0.6rem","lazy-load":"","show-loading":"",class:"icon-left",src:e.$f.formatIcon(o),"error-icon":n("aecc")},null,8,["src","error-icon"]),Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(o.symbol),1),o.risk_score>55||o.risk_level<0?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",N,Object(c["toDisplayString"])(e.$t("highRisk")),1)):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("div",y,[Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(e.$f.formatNumUnit(o.amount)),1),Object(c["createElementVNode"])("div",null,"≈ $ "+Object(c["toDisplayString"])(e.$f.formatNumUnit(o.quote)),1)])],40,w)})),128)),Object(c["withDirectives"])(Object(c["createVNode"])(M,{class:"empty",image:e.emptyNoBalanceLight,description:e.$t("noBalance")},null,8,["image","description"]),[[c["vShow"],$.userTokenList&&0===$.userTokenList.length]])],512),[[c["vShow"],"token"===r.active]]),Object(c["withDirectives"])(Object(c["createVNode"])(W,{gutter:10,clickable:"","column-num":2,center:!1,style:{"--van-grid-item-content-padding":"0","padding-top":"0.1rem"}},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(r.nftList,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])(R,{key:t},{default:Object(c["withCtx"])((function(){return[!e.thumbnail_url&&!e.content||"image_url"!==e.content_type&&"image"!==e.content_type?e.thumbnail_url&&"video_url"===e.content_type?(Object(c["openBlock"])(),Object(c["createBlock"])(J,{key:1,src:e.thumbnail_url,width:"100%",height:"calc(50vw - 30px)",fit:"contain","lazy-load":"",onClick:Object(c["withModifiers"])((function(t){return $.videoPreview(e)}),["stop"])},{error:Object(c["withCtx"])((function(){return[T]})),_:2},1032,["src","onClick"])):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",E,B)):(Object(c["openBlock"])(),Object(c["createBlock"])(J,{key:0,src:e.thumbnail_url||e.content,width:"100%",height:"calc(50vw - 30px)",fit:"contain","lazy-load":"",onClick:Object(c["withModifiers"])((function(t){return $.ImagePreview({images:[e.content],closeable:!0})}),["stop"])},{error:Object(c["withCtx"])((function(){return[C]})),_:2},1032,["src","onClick"])),Object(c["createElementVNode"])("div",L,[Object(c["createElementVNode"])("div",S,Object(c["toDisplayString"])(e.contract_name),1),Object(c["createElementVNode"])("div",_,Object(c["toDisplayString"])(e.name||$.formatLength("#"+e.inner_id)),1)])]})),_:2},1024)})),128))]})),_:1},512),[[c["vShow"],"nft"===r.active]]),Object(c["withDirectives"])(Object(c["createVNode"])(M,{class:"empty",image:e.emptyNoBalanceLight,description:e.$t("noBalance")},null,8,["image","description"]),[[c["vShow"],"nft"===r.active&&r.nftList&&0===r.nftList.length]])])]),Object(c["createVNode"])(Y,{show:r.videoVisible,"onUpdate:show":t[6]||(t[6]=function(e){return r.videoVisible=e}),closeable:"",images:[r.curItem.thumbnail_url],class:"image-preview"},{cover:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("video",{src:r.videoUrl,onClick:t[5]||(t[5]=function(e){return r.videoVisible=!1}),autoplay:"",name:"media",style:{width:"100%",height:"90vh"}},null,8,x)]})),_:1},8,["show","images"]),Object(c["createVNode"])(X,{show:r.isShowPop,"onUpdate:show":t[8]||(t[8]=function(e){return r.isShowPop=e}),position:"bottom",round:"",closeable:"",onClickOverlay:$.closePop,onClickCloseIcon:$.closePop,style:{"min-height":"20%","max-height":"60%",padding:"20px 0"}},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",D,[Object(c["createElementVNode"])("h3",U,Object(c["toDisplayString"])(e.$t("add"))+"Token",1),Object(c["createVNode"])(Q,{modelValue:r.selectedCoin,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.selectedCoin=e})},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])($.userTokenListInit,(function(t,o){return Object(c["openBlock"])(),Object(c["createBlock"])(K,{inset:"",key:o},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(G,{clickable:"",onClick:function(e){return $.addCoin(t)}},{title:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",P,[Object(c["createVNode"])(J,{round:"",width:"0.6rem",height:"0.6rem","icon-size":"0.6rem","lazy-load":"","show-loading":"",class:"icon-left",src:e.$f.formatIcon(t),"error-icon":n("aecc")},null,8,["src","error-icon"]),Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(t.symbol),1),t.risk_score>55||t.risk_level<0?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",I,Object(c["toDisplayString"])(e.$t("highRisk")),1)):Object(c["createCommentVNode"])("",!0)])]})),"right-icon":Object(c["withCtx"])((function(){return[Object(c["createVNode"])(q,{name:t.token},null,8,["name"])]})),_:2},1032,["onClick"])]})),_:2},1024)})),128))]})),_:1},8,["modelValue"])])]})),_:1},8,["show","onClickOverlay","onClickCloseIcon"])],64)}n("ac1f"),n("5319"),n("4d63"),n("c607"),n("2c3e"),n("25f0"),n("4de4"),n("d3b7"),n("00b4"),n("fb6a"),n("99af"),n("d81d"),n("caad"),n("2532");var F=n("365c"),z=n("0ae8"),H={name:"Balance",data:function(){return{active:"token",hotAddress:[],Timer_getData:null,loading1:!1,loading3:!1,refreshLoading:[!1,!1,!1],nftList:[],videoVisible:!1,videoUrl:"",curItem:{},isHide:!0,timer:!1,isShowPop:!1,selectedCoin:[]}},computed:{currentAccount:function(){return this.$store.state.currentAccount||""},currentAccountSplit:function(){return this.currentAccount.replace(new RegExp("(.{6})(.+)(.{4})"),"$1...$3")},userTotalBalance:function(){return this.$store.getters.userTotalBalance||0},userTokenListInit:function(){var e;return null===(e=this.$store.state.userTokenList)||void 0===e?void 0:e.filter((function(e){return e.amount>0}))},allUserTokenList:function(){return this.$store.getters.balanceTokens||[]},userTokenList:function(){var e;return this.isHide?null===(e=this.allUserTokenList)||void 0===e?void 0:e.filter((function(e){return e.amount*e.price>=1})):this.allUserTokenList}},watch:{"$store.state.currentAccount":function(){this.init()}},activated:function(){this.init()},methods:{init:function(){var e,t;this.$store.state.currentAccount&&(this.$store.dispatch("getUserTokenList"),this.getWhitelistTokens(),(null===(e=this.$store.state)||void 0===e||null===(t=e.favoritesList)||void 0===t?void 0:t.length)>0||this.$store.dispatch("getUserFavorites"),this.getUserNFTList())},getTokensBalance:function(){this.$store.dispatch("getUserTokenList")},getWhitelistTokens:function(){var e=this;Object(F["Fb"])(this.$store.getters.netId).then((function(t){e.$store.commit("setState",{name:"whitelistTokens",value:t||[]})}))},getUserNFTList:function(){var e=this;Object(F["Yb"])().then((function(t){e.nftList=t}))},formatChain:function(e){var t={address:e.token,chain:"matic"===e.chain?"polygon":e.chain};return/0x/.test(e.token)||(t.address="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee"),t},formatLength:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return e.length>t?e.slice(0,5)+"..."+e.slice(-5):e},goTokenDetails:function(e){this.$router.push({name:"Token",params:{id:"".concat(e.token,"-").concat(e.chain)}})},ImagePreview:z["a"],videoPreview:function(e){e.content&&(this.videoUrl=e.content,this.videoVisible=!0)},longTap:function(e){var t=this;clearTimeout(this.timer),this.timer=setTimeout((function(){t.timer=null,t.$dialog.confirm({title:"",message:t.$t("areYouSureDelete"),beforeClose:function(n){return new Promise((function(c){"confirm"===n?Object(F["Jc"])({token:e.token,type:"blacklist"}).then((function(e){t.$store.dispatch("getUserTokenList"),c(!0)})).catch((function(e){t.$toast({message:e.msg,position:"top"})})):c(!0)}))}})}),600)},clearTouch:function(){this.timer&&clearTimeout(this.timer)},showPop:function(){var e;this.isShowPop=!0,this.selectedCoin=null===(e=this.allUserTokenList)||void 0===e?void 0:e.map((function(e){return e.token}))},addCoin:function(e){var t=this,n=this.selectedCoin.includes(e.token);Object(F["Jc"])({token:e.token,type:n?"whitelist":"blacklist"}).then((function(e){})).catch((function(e){t.$toast({message:e.msg,position:"top"})}))},closePop:function(){this.isShowPop=!1,this.$store.dispatch("getUserTokenList")}}},J=(n("67b7"),n("6b0d")),M=n.n(J);const R=M()(H,[["render",A],["__scopeId","data-v-2aafe8fe"]]);t["default"]=R},"67b7":function(e,t,n){"use strict";n("9f59")},"9f59":function(e,t,n){},d3f3:function(e,t,n){e.exports=n.p+"static/img/ave-empty.067f8121.png"}}]);